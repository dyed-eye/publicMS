<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Математический маятник</title>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f0f0f0;
    }

    #pendulum {
        width: 2px;
        height: 200px;
        background-color: #69A1CA;
        position: absolute;
        top: 50px;
        left: 50%;
        transform-origin: top;
    }

    #anchor {
        width: 10px;
        height: 10px;
        background-color: #CA6969;
        border-radius: 50%;
        position: absolute;
        top: 40px;
        left: 50%;
        transform: translateX(-50%);
    }
</style>
</head>
<body>
<div id="anchor"></div>
<div id="pendulum"></div>

<script>
    const anchor = document.getElementById('anchor');
    const pendulum = document.getElementById('pendulum');

    let angle = Math.PI / 4; // начальный угол
    let angularVelocity = 0; // начальная угловая скорость
    let length = 200; // длина нити
    let mass = 1; // масса маятника
    let friction = 0.1; // коэффициент трения
    let acceleration = 9.81; // ускорение свободного падения

    function updatePendulum() {
        let x = length * Math.sin(angle);
        let y = length * Math.cos(angle);
        
        pendulum.style.transform = translate(${x}px, ${y}px) rotate(${angle}rad);
    }

    function calculatePeriod() {
        let period = 2 * Math.PI * Math.sqrt(length / acceleration);
        console.log('Период колебаний:', period.toFixed(2), 'сек');
    }

    function update() {
        let gravityTorque = -mass * acceleration * length * Math.sin(angle);
        let dampingTorque = -friction * angularVelocity;

        let angularAcceleration = (gravityTorque + dampingTorque) / (mass * length * length);
        angularVelocity += angularAcceleration;
        angle += angularVelocity;

        updatePendulum();
    }

    setInterval(update, 16); // обновление каждые 16 мс

    window.addEventListener('mousemove', (event) => {
        let rect = anchor.getBoundingClientRect();
        let centerX = rect.left + rect.width / 2;
        let centerY = rect.top + rect.height / 2;

        let deltaX = event.clientX - centerX;
        let deltaY = event.clientY - centerY;

        angle = Math.atan2(deltaX, deltaY);
    });

    calculatePeriod();
</script>
</body>
</html>
